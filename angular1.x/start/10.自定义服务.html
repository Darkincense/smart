<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>angular demo</title>
</head>

<body ng-app="myApp">
	<div class="main" ng-controller="demoCtrlA"></div>
	<div class="sideBar" ng-controller="demoCtrlB"></div>
	<script src="../bulid/angular/angular.js"></script>
	<script>
		/*
			语法:

				模块对象.service('服务的名字',[function(){
					
					this.name = 'zhangsan';

					this.say = function(){
						
						alert( this.name )

					}

				}])

				angular将服务处理函数当作构造器来用 会帮我们new这个处理函数

				服务的作用:将公共的代码抽出来

		 */

		angular.module('myApp', [])

			.service('myService', [function () {

				this.name = 'zhangsan';

				this.say = function () {

					alert(this.name)

				}

			}])
			// 依赖服务
			// 在两个控制器中依赖的serviceName服务 是同一个对象
			// 所以在A控制器中修改了服务的值 在控制器B中也会得到体现
			.controller('demoCtrlA', ['$scope', 'myService', function ($scope, myService) {

				myService.name = "李四";

			}])

			.controller('demoCtrlB', ['$scope', 'myService', function ($scope, myService) {

				myService.say();

			}])
	</script>
</body>

</html>