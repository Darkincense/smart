<!DOCTYPE html>

<head>
    <title>React</title>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://cdn.bootcss.com/babel-core/5.8.34/browser.min.js"></script>
    <style>
    </style>
</head>
<div id="root"></div>

<body>
    <script type="text/babel">
 class Child extends React.Component {
     
    shouldComponentUpdate(nextProps, nextState) {
        console.log('Child nextProps',nextProps);
        return nextProps.value > 10 ? true :false;
    }
    
     componentWillReceiveProps(nextProps) {
        //  console.log('nextProps',nextProps);
     }
     
     render() {
         console.log('渲染 child 组件--------------');
         return (
             <div>
                 我是child {this.props.value}
             </div>
         );
     }
 }
 
  class Father extends React.Component {
    constructor(props) {
          super(props);
          this.state = {
            defaultValue:''
          }
      }
      
   componentDidMount() {
     this.myInput.focus();
   }
   shouldComponentUpdate(nextProps, nextState) {
        console.log('Father nextState',nextState);
        return nextState.defaultValue > 5 ? true:false;
    }

   handleChange(e){
       this.setState({
        defaultValue:e.target.value
       })
   }
   
   render(){
    console.log('渲染 Father 组件--------------');
     return (
       <React.Fragment>
        <input ref={(ele) =>{this.myInput = ele}}  onChange={this.handleChange.bind(this)} />
        <Child value={this.state.defaultValue} />
       </React.Fragment>
     )
   }
  }
  ReactDOM.render(
    <Father />,document.getElementById('root'));
</script>
</body>

</html>